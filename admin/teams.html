<!DOCTYPE html>
<html lang='en'>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Assassins</title>
    <link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9' crossorigin='anonymous'>
    <script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js' integrity='sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm' crossorigin='anonymous'></script>
    <script src='/dist/bundle.js'></script>
    <script src='/dist/bundleTeams.js'></script>
</head>
<body>
    <nav class='navbar sticky-top navbar-expand-lg bg-body-tertiary'>
        <div class='container-fluid'>
          <a class='navbar-brand'>Higley</a>
          <button class='navbar-toggler' type='button' data-bs-toggle='collapse' data-bs-target='#navbarNavAltMarkup' aria-controls='navbarNavAltMarkup' aria-expanded='false' aria-label='Toggle navigation'>
            <span class='navbar-toggler-icon'></span>
          </button>
          <div class='collapse navbar-collapse' id='navbarNavAltMarkup'>
            <div class='navbar-nav'>
              <a class='nav-link' href='home.html'>Home</a>
              <a class='nav-link active' href='teams.html'>Teams</a>
              <a class='nav-link' href='messages.html'>Messages</a>
              <a class='nav-link' href='rules.html'>Rules</a>
              <button type='button' id='logout' onclick='logout()' class='btn btn-primary me-auto loginButton' data-bs-toggle='modal' data-bs-target='#loginModal'>
                Log Out
              </button>
            </div>
          </div>
        </div>
      </nav>

      <div class='container-fluid text-center' id='container'>
        <div class='row align-items-start' id='row'>
          <div class='col col-2' id='left'>

        </div>
          <div class='col'>
            <div class='container text-center'>
              <div class='row align-items-start'>
                <div class='col' id='col1'>

                </div>
                <div class='col' id='col2'>
                  <!-- <div class='modal fade' id='coders' tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true'> <div class='modal-dialog'> <div class='modal-content'> <div class='modal-header'>  <h1 class='modal-title fs-5' id='exampleModalLabel'>Modal title</h1> <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button> </div> <div class='modal-body'> ... </div> <div class='modal-footer'> <button type='button' class='btn btn-secondary' data-bs-dismiss='modal'>Close</button> <button type='button' class='btn btn-primary'>Save changes</button> </div> </div>  </div> </div> -->
                </div>
                <div class='col' id='col3'>

                </div>
              </div>
            </div>
          </div>
          <div class='col col-2' id='right'>

        </div>
        </div>
      </div>
     
    </body>
  </html>

<script>
  function logout() {
   window.location.href = '/dist/index.html';
  }
  var names = JSON.parse(sessionStorage.names);
  var teams = JSON.parse(sessionStorage.teams);

  var currentColNum = 0;

  for (let i = 0; i < teams.length; i++) {
    if (currentColNum < 3) {
      currentColNum++;
    } else {
      var currentColNum = 1;
    }

    var currentCol = 'col' + currentColNum;
    var col = document.getElementById(currentCol)
    col.innerHTML += "<button type='button' id='input' class='btn btn-primary teamButton' data-bs-toggle='modal' data-bs-target='#" + teams[i].teamName + "'>" + teams[i].teamName + "</button>"
    col.innerHTML += "<div class='modal fade' id='" + teams[i].teamName + "' tabindex='-1' aria-labelledby='exampleModalLabel' aria-hidden='true'> <div class='modal-dialog'> <div class='modal-content'> <div class='modal-header'>  <h1 class='modal-title fs-5' id='exampleModalLabel'>" + teams[i].teamName + "</h1> <button type='button' class='btn-close' data-bs-dismiss='modal' aria-label='Close'></button> </div> <div id='" + teams[i].teamName + "textArea' class='modal-body'></div> <div class='modal-footer'> <button type='button' class='btn btn-secondary' data-bs-dismiss='modal'>Close</button> <button onclick='save(" + i + ")' type='button' class='btn btn-primary'>Save changes</button> </div> </div>  </div> </div>"            
    var modalArea = document.getElementById(teams[i].teamName + 'textArea')
    modalArea.innerHTML += "<div class='input-group mb-3'> <span class='input-group-text' id='basic-addon1'>Player 1</span> <input type='text' class='form-control' aria-label='Username' aria-describedby='basic-addon1' id='" + teams[i].teamName + "-player1' value='" + teams[i].player1 + "'> </div>"
    modalArea.innerHTML += "<div class='input-group mb-3'> <span class='input-group-text' id='basic-addon1'>Player 2</span> <input type='text' class='form-control' aria-label='Username' aria-describedby='basic-addon1' id='" + teams[i].teamName + "-player2' value='" + teams[i].player2 + "'> </div>"
    modalArea.innerHTML += "<div class='input-group mb-3'> <span class='input-group-text' id='basic-addon1'>Player 3</span> <input type='text' class='form-control' aria-label='Username' aria-describedby='basic-addon1' id='" + teams[i].teamName + "-player3' value='" + teams[i].player3 + "'> </div>"
    if (teams[i].player4) {
      modalArea.innerHTML += "<div class='input-group mb-3'> <span class='input-group-text' id='basic-addon1'>Player 4</span> <input type='text' class='form-control' aria-label='Username' aria-describedby='basic-addon1' id='" + teams[i].teamName + "-player4' value='" + teams[i].player4 + "'> </div>"
    }
  }
    function save(a) {
      var currentTeam = teams[a].teamName;
      var teamArray = teams[a];
      var player1Var = document.getElementById(currentTeam + '-player1').value;
      var player2Var = document.getElementById(currentTeam + '-player2').value;
      var player3Var = document.getElementById(currentTeam + '-player3').value;
      if (teamArray.player4) {
        var player4Var = document.getElementById(currentTeam + '-player4').value;
      }
      adminEdit(currentTeam, player1Var, player2Var, player3Var);
    }
  </script>

  <style>
  .navbar {
    background-color: #2e4b73 !important;
    min-height: 9vh;
  }
  .navbar-brand {
    color: white;
  }
  .navbar-brand:hover {
    color: white !important;
  }
  .nav-link {
    color: #C0C0C0;
  }
  .nav-link.active {
    color: white !important;
  }
  .loginButton {
    position: absolute;
    right: 1vw;
  }
  @media (max-width: 991px) {
    .right-side {
      display: none;
    }
    .left-side {
      display: none;
    }
    #logout {
      margin-top: 15px;
    }
  }
  #container {
    min-height: 90vh;
  }
  #row {
    min-height: 90vh;
  }
  #left {
    background-color: #8B8B8B;
    min-height: 91vh;
  }
  #right {
    background-color: #8B8B8B;
    height: 91vh;
  }
  .teamButton {
    margin-top: 1rem;
  }
  </style>