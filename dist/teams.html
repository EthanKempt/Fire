<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teams</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="/src/site.js"></script>
    <script src="bundle.js"></script>
    <script src="bundleTeams.js"></script>
  </head>
  <body>
    <nav
      class="navbar navbar-dark sticky-top navbar-expand-lg bg-body-tertiary"
    >
      <div class="container-fluid">
        <a class="navbar-brand">Higley</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNavAltMarkup"
          aria-controls="navbarNavAltMarkup"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
          <div class="navbar-nav">
            <a class="nav-link" href="home.html" aria-current="page">Home</a>
            <a class="nav-link active" href="teams.html">Teams</a>
            <a class="nav-link" href="targets.html">Targets</a>
            <a class="nav-link" href="rules.html">Rules</a>
            <button
              type="button"
              id="logout"
              onclick="logout()"
              class="btn btn-primary me-auto loginButton"
              data-bs-toggle="modal"
              data-bs-target="#loginModal"
            >
              Log Out
            </button>
          </div>
        </div>
      </div>
    </nav>

    <div class="container-fluid text-center">
      <div class="row align-items-start" id="row">
        <div class="col col-2" id="left"></div>
        <div class="col">
          <div class="container text-center">
            <div class="row align-items-start">
              <div class="col">
                <div class="card">
                  <div class="card-header">Team Name</div>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">Squad Wipes: 2</li>
                    <li class="list-group-item">Kills: 6</li>
                    <li class="list-group-item">Members left: 3</li>
                  </ul>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <div class="card-header">Teams</div>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                  </ul>
                </div>
              </div>
              <div class="col">
                <div class="card">
                  <div class="card-header">Teams</div>
                  <ul class="list-group list-group-flush">
                    <li class="list-group-item">An item</li>
                    <li class="list-group-item">A second item</li>
                    <li class="list-group-item">A third item</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col col-2" id="right"></div>
      </div>
    </div>
  </body>
</html>

<script>
  var names = JSON.parse(sessionStorage.names);
  var teams = JSON.parse(sessionStorage.teams);
  let a = 0;
  for (let i = 0; i < teams.length; i++) {
    if (teams[i].status) {
      a++;
    }
  }
  var current = document.getElementById("current");
  current.innerHTML = a;
  total.innerHTML = teams.length;
  var usersLeft = 0;
  for (let i = 0; i < names.length; i++) {
    if (names[i].status) {
      usersLeft++;
    }
  }
  var totalUsers = names.length;
  let average = (usersLeft / totalUsers) * 100;
  var innerAverage = (document.getElementById("average").innerHTML =
    average + "%");
</script>

<style>
  .navbar {
    background-color: #2e4b73 !important;
    min-height: 9vh;
  }
  .navbar-toggler {
    border-color: white;
    border-width: 1px;
  }
  .loginButton {
    position: absolute;
    right: 1vw;
  }
  @media (max-width: 991px) {
    #right {
      display: none;
    }
    #left {
      display: none;
    }
    #logout {
      margin-top: 15px;
    }
  }
  #container {
    min-height: 91vh;
  }
  #row {
    min-height: 91vh;
  }
  .col {
    min-height: 91vh;
  }
  #left {
    background-color: #8b8b8b;
    height: 100%;
  }
  #right {
    background-color: #8b8b8b;
    height: 100%;
  }
  .card {
    margin-top: 1rem;
  }
</style>
